<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>详解nginx | Ropon运维</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697989910010110210">
<meta property="og:type" content="article">
<meta property="og:title" content="详解nginx">
<meta property="og:url" content="https://blog.ropon.top/2017/11/22/%E8%AF%A6%E8%A7%A3nginx/index.html">
<meta property="og:site_name" content="Ropon运维">
<meta property="og:description" content="12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697989910010110210">
<meta property="og:locale">
<meta property="article:published_time" content="2017-11-22T14:51:31.000Z">
<meta property="article:modified_time" content="2022-12-26T09:01:18.040Z">
<meta property="article:author" content="Ropon">
<meta property="article:tag" content="Ropon运维,Ropon,Go,DevOps,CI&#x2F;CD,运维平台,k8s,Prometheus,Shell,Python,Kvm,OpenStack">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Ropon运维" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Ropon运维</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://blog.ropon.top"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-详解nginx" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2017/11/22/%E8%AF%A6%E8%A7%A3nginx/" class="article-date">
  <time class="dt-published" datetime="2017-11-22T14:51:31.000Z" itemprop="datePublished">2017-11-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/web-jiqun/">web-jiqun</a>►<a class="article-category-link" href="/categories/web-jiqun/%E7%BD%91%E7%AB%99%E9%9B%86%E7%BE%A4/">网站集群</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      详解nginx
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br></pre></td><td class="code"><pre><span class="line">1、检查nginx基本依赖包是否安装pcre-devel openssl-devel</span><br><span class="line">rpm -qa pcre-devel pcre</span><br><span class="line">rpm -qa openssl-devel openssl</span><br><span class="line">若没有执行以下命令安装</span><br><span class="line">yum -y install pcre-devel pcre</span><br><span class="line">yum -y install openssl-devel openssl</span><br><span class="line">yum -y install gcc-c++</span><br><span class="line">2、安装nginx</span><br><span class="line">[ ! -d /home/ropon/tools ] &amp;&amp; <span class="built_in">mkdir</span> -p /home/ropon/tools</span><br><span class="line"><span class="built_in">cd</span> /home/ropon/tools</span><br><span class="line"><span class="built_in">id</span> -u www &gt;/dev/null 2&gt;&amp;1</span><br><span class="line">[ $? -ne 0 ] &amp;&amp; useradd www -s /sbin/nologin -M -g www <span class="comment">#创建普通用户www及www组不指定家目录</span></span><br><span class="line">wget -c http://nginx.org/download/nginx-1.10.3.tar.gz</span><br><span class="line">tar xvf nginx-1.10.3.tar.gz</span><br><span class="line"><span class="built_in">cd</span> nginx-1.10.3</span><br><span class="line">./configure --user=www --group=www --prefix=/usr/local/nginx-1.10.3/ \</span><br><span class="line">--with-http_stub_status_module --with-http_ssl_module</span><br><span class="line">make</span><br><span class="line">make install</span><br><span class="line"><span class="built_in">ln</span> -s /usr/local/nginx-1.10.3 /usr/local/nginx 便于后期升级nginx版本，及快速获取nginx版本号</span><br><span class="line">--prefix=设置安装路径</span><br><span class="line">--user=进程用户权限</span><br><span class="line">--group=进程用户组权限</span><br><span class="line">--with-http_stub_status_module 激活状态信息</span><br><span class="line">--with-http_ssl_module 激活ssl功能</span><br><span class="line">3、nginx.conf配置文件说明</span><br><span class="line">worker_processes 4; <span class="comment">#worker进程数量</span></span><br><span class="line">events &#123;</span><br><span class="line">    worker_connections 10240; <span class="comment">#每个worker进程支持的最大连接数</span></span><br><span class="line">&#125;</span><br><span class="line">http &#123;</span><br><span class="line">    include mime.types; <span class="comment">#nginx支持的媒体类型库文件</span></span><br><span class="line">    default_type application/octet-stream; <span class="comment">#默认的媒体类型</span></span><br><span class="line">    sendfile on; <span class="comment">#开启高效传输模式</span></span><br><span class="line">    keepalive_timeout 65; <span class="comment">#链接超时时间</span></span><br><span class="line">    server &#123;</span><br><span class="line">        listen 80;</span><br><span class="line">        server_name localhost;</span><br><span class="line">        location / &#123;</span><br><span class="line">            root html;</span><br><span class="line">            index index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line">        error_page 500 502 503 504 /50x.html;</span><br><span class="line">        location = /50x.html &#123;</span><br><span class="line">            root html;</span><br><span class="line">        &#125;</span><br><span class="line">        location /ropon_ngx_status &#123;</span><br><span class="line">            stub_status on; <span class="comment">#开启nginx status</span></span><br><span class="line">            access_log off;</span><br><span class="line">            allow 1.1.1.1; <span class="comment">#仅允许某个IP查看</span></span><br><span class="line">            deny all;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">Active connections: 4 <span class="comment">#正在处理的活动连接数</span></span><br><span class="line">server accepts handled requests</span><br><span class="line">209 209 34 启动共处理多少连接；启动共创建多少次握手（请求丢失数（握手数-连接数））； 共处理多少次请求</span><br><span class="line">Reading: 0读取客户端header信息数 Writing: 1返回客户端header信息数 Waiting: 3等待下次请求驻留连接</span><br><span class="line">error_log logs/error.log warnerrorcrit; <span class="comment">#错误日志配置</span></span><br><span class="line">可放置标签段：main,http,server,location</span><br><span class="line">log_format main <span class="string">&#x27;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &#x27;</span></span><br><span class="line"><span class="string">&#x27;$status $body_bytes_sent &quot;$http_referer&quot; &#x27;</span></span><br><span class="line"><span class="string">&#x27;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#x27;</span>;</span><br><span class="line"><span class="variable">$remote_addr</span> <span class="comment">#记录访问网站的客户端IP</span></span><br><span class="line"><span class="variable">$http_x_forwarded_for</span> <span class="comment">#使用CDN记录真实客户端IP</span></span><br><span class="line"><span class="variable">$remote_user</span> <span class="comment">#</span></span><br><span class="line"><span class="variable">$time_local</span> <span class="comment">#访问时间</span></span><br><span class="line"><span class="variable">$request</span> <span class="comment">#请求页面</span></span><br><span class="line"><span class="variable">$status</span> <span class="comment">#访问状态码</span></span><br><span class="line"><span class="variable">$body_bytes_sent</span> <span class="comment">#响应body的大小，单位字节</span></span><br><span class="line"><span class="variable">$http_referer</span> <span class="comment">#</span></span><br><span class="line"><span class="variable">$http_user_agent</span> <span class="comment">#客户端UA信息</span></span><br><span class="line">access_log logs/access.log main(默认日志记录格式); <span class="comment">#配置访问日志</span></span><br><span class="line">可放置标签段：http,server,location,<span class="keyword">if</span> <span class="keyword">in</span> location,limit_except</span><br><span class="line">1.1.1.1 - - [23/Nov/2017:10:37:45 +0800] <span class="string">&quot;GET /ropon.html HTTP/1.1&quot;</span> 404 571 <span class="string">&quot;-&quot;</span> <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36&quot;</span> <span class="string">&quot;-&quot;</span></span><br><span class="line">remote_addr 1.1.1.1</span><br><span class="line">remote_user -</span><br><span class="line">time_local 23/Nov/2017:10:37:45 +0800</span><br><span class="line">request GET /ropon.html HTTP/1.1</span><br><span class="line">status 404</span><br><span class="line">body_bytes_sent 57字节</span><br><span class="line">http_referer 直接访问故记录-</span><br><span class="line">http_user_agent Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36</span><br><span class="line">http_x_forwarded_for 没有使用CDN故记录-</span><br><span class="line">深入了解日志参数[高并发避免日志频繁写入影响IO性能]</span><br><span class="line">access_log path format gzip [=level] [buffer=size] [flush=time] [<span class="keyword">if</span>=condition];</span><br><span class="line">access_log logs/access.gz main gzip buffer=32k flush=5s;</span><br><span class="line">4、nginx日志切割</span><br><span class="line"><span class="built_in">mkdir</span> -p /usr/local/script</span><br><span class="line">vi cut_del_logs.sh</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line">LOGS_PATH=/home/wwwlogs/default.gz</span><br><span class="line">YESTERDAY=$(<span class="built_in">date</span> -d <span class="string">&quot;yesterday&quot;</span> +%Y-%m-%d)</span><br><span class="line"><span class="built_in">mv</span> <span class="variable">$&#123;LOGS_PATH&#125;</span>/access.gz <span class="variable">$&#123;LOGS_PATH&#125;</span>/access_<span class="variable">$&#123;YESTERDAY&#125;</span>.gz</span><br><span class="line"><span class="built_in">kill</span> -USR1 `ps axu  grep <span class="string">&quot;nginx: master process&quot;</span>  grep -v grep  awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span>`</span><br><span class="line"><span class="comment">#kill USR1 指告诉应用程序重载配置文件相当于reload</span></span><br><span class="line"><span class="built_in">cd</span> <span class="variable">$&#123;LOGS_PATH&#125;</span></span><br><span class="line">find . -mtime +7 -name <span class="string">&quot;*20[1-9][3-9]*&quot;</span>  xargs <span class="built_in">rm</span> -f</span><br><span class="line"><span class="built_in">exit</span> 0</span><br><span class="line">crontab -e</span><br><span class="line">1 0 * * * /usr/local/script/cut_del_logs.sh</span><br><span class="line">5、配置nginx虚拟主机</span><br><span class="line"><span class="built_in">mkdir</span> /usr/local/nginx/conf/vhost</span><br><span class="line"><span class="built_in">mkdir</span> -p /home/wwwroot/default</span><br><span class="line">include vhost/*.conf;</span><br><span class="line"><span class="built_in">cd</span> /usr/local/nginx/conf/vhost &amp;&amp; vi 000default.conf</span><br><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    server_name 1.1.1.1</span><br><span class="line">    location / &#123;</span><br><span class="line">        root /home/wwwroot/default;</span><br><span class="line">        index index.html;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">6、location的使用</span><br><span class="line">location [ =  ~  ~*  ^~ ] uri &#123;</span><br><span class="line">&#125;</span><br><span class="line">~ 区分大小写</span><br><span class="line">~* 不区分大小写</span><br><span class="line">!~ !~* 取反</span><br><span class="line">^~ 做常规字符串检查，不做正则匹配。</span><br><span class="line">location = / &#123;</span><br><span class="line">    [ configuration A ]</span><br><span class="line">&#125;</span><br><span class="line">location / &#123;</span><br><span class="line">    [ configuration B ]</span><br><span class="line">&#125;</span><br><span class="line">location /files/ &#123;</span><br><span class="line">    [ configuration C ]</span><br><span class="line">&#125;</span><br><span class="line">location ^~ /images/ &#123;</span><br><span class="line">    [ configuration D ]</span><br><span class="line">&#125;</span><br><span class="line">location ~* \.(gifjpg)$ &#123;</span><br><span class="line">    [ configuration E ]</span><br><span class="line">&#125;</span><br><span class="line">eg:</span><br><span class="line">location = / &#123;</span><br><span class="line">    <span class="built_in">return</span> 401;</span><br><span class="line">&#125;</span><br><span class="line">location /files/ &#123;</span><br><span class="line">    <span class="built_in">return</span> 402;</span><br><span class="line">&#125;</span><br><span class="line">location ^~ /images/ &#123;</span><br><span class="line">    <span class="built_in">return</span> 403;</span><br><span class="line">&#125;</span><br><span class="line">location ~* \.(jpg)$ &#123;</span><br><span class="line">    <span class="built_in">return</span> 405;</span><br><span class="line">&#125;</span><br><span class="line">访问http://1.1.1.1 或http://1.1.1.1/ 出现401状态码</span><br><span class="line">访问http://1.1.1.1/files/ 出现402状态码</span><br><span class="line">访问http://1.1.1.1/images/ssfasdfsda或http://1.1.1.1/images/ 都会出现403状态码</span><br><span class="line">访问http://1.1.1.1/dfasfsdfsd/sfdasdfsd.jpg或http://1.1.1.1/324123423.jpg 都会出现405状态码</span><br><span class="line">=/是精确匹配优先级最高与放置顺序无关</span><br><span class="line">/是默认匹配，指没有匹配上其他location，最后匹配默认</span><br><span class="line">/files/是路径匹配</span><br><span class="line">^~ /images/也是路径匹配，加了特殊字符^~，/files/11.jpg 优先匹配路径</span><br><span class="line">~* \.(jpg)$是扩展名匹配</span><br><span class="line">7、Nginx rewrite</span><br><span class="line">语法：rewrite regex(正则表达式) replacement [flag];</span><br><span class="line">可放置标签段：server,location,<span class="keyword">if</span></span><br><span class="line">rewrite ^/(.*) http://1.1.1.1/<span class="variable">$1</span> permanent;</span><br><span class="line">^/(.*)匹配所有 匹配成功后跳转到http://1.1.1.1/<span class="variable">$1</span> <span class="variable">$1</span>代表前面^/(.*)具体内容 permanent是永久重定向标记</span><br><span class="line">\ 转义字符 \\ \$</span><br><span class="line">^匹配字符串起始位置</span><br><span class="line">$匹配字符串结束位置</span><br><span class="line">*匹配前面字符零次或多次，比如ro* 可匹配r、roo，*相当于&#123;0,&#125;</span><br><span class="line">+匹配前面字符一次或多次，比如ro+可匹配ro、roo，但不能匹配r，+相当于&#123;1,&#125;</span><br><span class="line">?匹配前面字符零次或一次，比如lp(ro)?可匹配lp、lpro中lp，?相当于&#123;0,1&#125;</span><br><span class="line">.匹配除“\n”之外的任何单字符，若要匹配\n，可使用[.\n]</span><br><span class="line">(pattern)匹配括号内的pattern，并且后面可获取对应匹配，用<span class="variable">$0</span>,<span class="variable">$1</span>..<span class="variable">$9</span>，</span><br><span class="line">若要匹配括号字符，使用\( \)</span><br><span class="line">last 本条规则匹配完，继续匹配下条location uri规则</span><br><span class="line"><span class="built_in">break</span> 本条规则匹配完，就终止不再继续匹配</span><br><span class="line">redirect 返回302临时重定向</span><br><span class="line">permanent 返回301永久重定向</span><br><span class="line">例子</span><br><span class="line"><span class="keyword">if</span> ( <span class="variable">$http_host</span> ~* <span class="string">&quot;^(.*)\.idiyrom\.com$&quot;</span>) &#123;</span><br><span class="line">    <span class="built_in">set</span> <span class="variable">$temp</span> <span class="variable">$1</span>;</span><br><span class="line">    rewrite ^(.*) http://www.idiyrom.com/<span class="variable">$temp</span>/ropon.html;</span><br><span class="line">    <span class="built_in">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">实现的是xxx.idiyrom.com 跳转到 www.idiyrom.com/xxx/ropon.html</span><br><span class="line">8、try_files最核心的功能是可以替代rewrite</span><br><span class="line">语法: try_files file ... uri 或 try_files file ... = code</span><br><span class="line">try_files <span class="variable">$uri</span> <span class="variable">$uri</span>/ /?<span class="variable">$args</span>;</span><br><span class="line">按顺序检查文件或文件夹是否存在，返回第一个找到的文件或文件夹。</span><br><span class="line">结尾的斜线表示为文件夹 比如<span class="variable">$uri</span>/</span><br><span class="line">如果所有的文件或文件夹都找不到，会进行一个内部重定向到最后一个参数/?<span class="variable">$args</span>。</span><br><span class="line">eg:</span><br><span class="line">location / &#123;</span><br><span class="line">    try_files <span class="variable">$uri</span> <span class="variable">$uri</span>/ /?<span class="variable">$args</span>;</span><br><span class="line">&#125;</span><br><span class="line">比如访问http://west.idiyrom.com/imgaes/</span><br><span class="line"><span class="variable">$uri</span> 指的是文件，比如images文件，<span class="variable">$uri</span>=/imgaes/</span><br><span class="line"><span class="variable">$uri</span>/ 指的是文件夹，比如images文件夹</span><br><span class="line">如果文件或文件夹都不存在，就会内部重定向到/?<span class="variable">$args</span>，其中<span class="variable">$args</span>是get方法获取的参数，比如images/test?testcanshu</span><br><span class="line">日志格式：<span class="string">&#x27;[$cookie_customerID_cookie_flag] [$args]&#x27;</span> <span class="string">&#x27;($uri)&#x27;</span></span><br><span class="line">[-] [testcanshu](/index.html)</span><br><span class="line"><span class="variable">$args</span>=testcanshu</span><br><span class="line">9、Nginx访问认证</span><br><span class="line">auth_basic</span><br><span class="line">语法：auth_basic stringoff;</span><br><span class="line">可放置标签段：http,server,location,limit_except</span><br><span class="line">auth_basic_user_file file;</span><br><span class="line">可放置标签段：http,server,location,limit_except</span><br><span class="line">htpasswd -bc /usr/local/nginx/conf/htpasswd ropon 123456</span><br><span class="line"><span class="built_in">chmod</span> 400 /usr/local/nginx/conf/htpasswd</span><br><span class="line"><span class="built_in">chown</span> www /usr/local/nginx/conf/htpasswd</span><br><span class="line">location = /ropon/ &#123;</span><br><span class="line">    auth_basic ropon_test;</span><br><span class="line">    auth_basic_user_file /usr/local/nginx/conf/htpasswd;</span><br><span class="line">&#125;</span><br><span class="line">10、添加启动项</span><br><span class="line"><span class="built_in">cat</span> /etc/init.d/nginx</span><br><span class="line">……</span><br><span class="line">nginx_install_dir=/usr/local/nginx</span><br><span class="line">[ -z <span class="string">&quot;`grep ^&#x27;export PATH=&#x27; /etc/profile`&quot;</span> ] &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;export PATH=<span class="variable">$nginx_install_dir</span>/sbin:\$PATH&quot;</span> &gt;&gt; /etc/profile</span><br><span class="line">[ -n <span class="string">&quot;`grep ^&#x27;export PATH=&#x27; /etc/profile`&quot;</span> -a -z <span class="string">&quot;`grep <span class="variable">$nginx_install_dir</span> /etc/profile`&quot;</span> ] &amp;&amp; sed -i <span class="string">&quot;s@^export PATH=\(.*\)@export PATH=<span class="variable">$nginx_install_dir</span>/sbin:\1@&quot;</span> /etc/profile</span><br><span class="line">. /etc/profile</span><br><span class="line">wget -O /etc/init.d/nginx http://mirrors.ropon.top/shell/lnmp/init.d/Nginx-init-CentOS.txt</span><br><span class="line"><span class="built_in">chmod</span> +x /etc/init.d/nginx</span><br><span class="line">chkconfig --add nginx</span><br><span class="line">chkconfig nginx on</span><br><span class="line">自动安装shell脚本：http://mirrors.ropon.top/shell/lnmp/nginx.sh</span><br><span class="line">附Rewriterule参数详解</span><br><span class="line">1) R 强制外部重定向，后面可以代301或302跳转。</span><br><span class="line">2) F 禁用URL,返回403HTTP状态码。</span><br><span class="line">3) G 强制URL为GONE，返回410HTTP状态码。</span><br><span class="line">4) P 强制使用代理转发。</span><br><span class="line">5) L 表明当前规则是最后一条规则，停止分析以后规则的重写。</span><br><span class="line">6) N 重新从第一条规则开始运行重写过程。</span><br><span class="line">7) C 与下一条规则关联。</span><br><span class="line">8) T=MIME-<span class="built_in">type</span>(force MIME <span class="built_in">type</span>) 强制MIME类型。</span><br><span class="line">9) NS 只用于不是内部子请求。</span><br><span class="line">10) NC 不区分大小写。</span><br><span class="line">11) QSA 追加请求字符串。</span><br><span class="line">12) NE 不在输出转义特殊字符。</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="更新nginx1-22-0-并安装支持lua"><a href="#更新nginx1-22-0-并安装支持lua" class="headerlink" title="更新nginx1.22.0 并安装支持lua"></a>更新nginx1.22.0 并安装支持lua</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">#安装所需</span><br><span class="line">yum -y install pcre-devel pcre</span><br><span class="line">yum -y install openssl-devel openssl</span><br><span class="line">yum -y install gcc-c++</span><br><span class="line"></span><br><span class="line">#创建普通用户及组</span><br><span class="line">groupadd www &amp;&amp; useradd www -s /sbin/nologin -M -g www</span><br><span class="line"></span><br><span class="line">#下载所需文件</span><br><span class="line">echo-nginx-module-0.62.tar.gz</span><br><span class="line">luajit2-2.1-20220915.tar.gz</span><br><span class="line">lua-nginx-module-0.10.22.tar.gz</span><br><span class="line">lua-resty-core-0.1.24.tar.gz</span><br><span class="line">lua-resty-lrucache-0.13.tar.gz</span><br><span class="line">nginx-1.22.0.tar.gz</span><br><span class="line">ngx_devel_kit-0.3.1.tar.gz</span><br><span class="line"></span><br><span class="line">wget https://nginx.org/download/nginx-1.22.0.tar.gz</span><br><span class="line">wget https://github.com/openresty/luajit2/archive/refs/tags/v2.1-20220915.tar.gz</span><br><span class="line">wget https://github.com/openresty/lua-nginx-module/archive/refs/tags/v0.10.22.tar.gz</span><br><span class="line"></span><br><span class="line">#批量解压</span><br><span class="line">ls *.tar.gzxargs -n 1 tar -xzvf</span><br><span class="line"></span><br><span class="line">#编译所需库</span><br><span class="line">cd luajit2-2.1-20220915</span><br><span class="line">make install PREFIX=/usr/local/luajit2-2.1-20220915</span><br><span class="line">设置环境变量到/etc/profile</span><br><span class="line">export LUAJIT_LIB=/usr/local/luajit2-2.1-20220915/lib/</span><br><span class="line">export LUAJIT_INC=/usr/local/luajit2-2.1-20220915/include/luajit-2.1</span><br><span class="line">source /etc/profile</span><br><span class="line">ln -sf /usr/local/luajit2-2.1-20220915/lib/libluajit-5.1.so.2 /lib64/libluajit-5.1.so.2</span><br><span class="line"></span><br><span class="line">cd ../lua-resty-core-0.1.24</span><br><span class="line">make install PREFIX=/usr/local/lua_core</span><br><span class="line">cd ../lua-resty-lrucache-0.13</span><br><span class="line">make install PREFIX=/usr/local/lua_core</span><br><span class="line"></span><br><span class="line">#安装nginx</span><br><span class="line">cd ../nginx-1.22.0</span><br><span class="line">./configure --prefix=/usr/local/nginx --user=www --group=www --with-http_stub_status_module --with-http_sub_module --with-http_v2_module --with-http_ssl_module --with-stream --with-stream_ssl_preread_module --with-stream_ssl_module --with-http_gzip_static_module --with-http_realip_module --with-http_flv_module --with-http_mp4_module --add-module=../ngx_devel_kit-0.3.1 --add-module=../lua-nginx-module-0.10.22 --add-module=../echo-nginx-module-0.62</span><br><span class="line">make -j 4</span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">nginx.conf http节加</span><br><span class="line">lua_package_path &quot;/usr/local/lua_core/lib/lua/?.lua;;&quot;;</span><br><span class="line">nginx -t</span><br></pre></td></tr></table></figure>

<h3 id="nginx-安装https正向代理"><a href="#nginx-安装https正向代理" class="headerlink" title="nginx 安装https正向代理"></a>nginx 安装https正向代理</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">#下载所需库</span><br><span class="line">https://github.com/chobits/ngx_http_proxy_connect_module</span><br><span class="line"></span><br><span class="line">#打补丁 看介绍不同版本补丁不一样</span><br><span class="line">#这里是nginx-1.22.0</span><br><span class="line">patch -p1 &lt; ../ngx_http_proxy_connect_module-0.0.3/patch/proxy_connect_rewrite_102101.patch</span><br><span class="line">#如果之前已安装nginx，查看之前编译参数nginx -V</span><br><span class="line">--add-module=../ngx_http_proxy_connect_module-0.0.3</span><br><span class="line">make &amp;&amp; make install</span><br><span class="line"></span><br><span class="line">#新建proxy.conf配置文件</span><br><span class="line">server &#123;</span><br><span class="line">    listen 1443;</span><br><span class="line">    charset utf-8;</span><br><span class="line">    #DNS解析(核心配置)</span><br><span class="line">    resolver 10.2.1.10;</span><br><span class="line">    client_max_body_size     50m;</span><br><span class="line">    access_log logs/access_proxy.log;</span><br><span class="line"></span><br><span class="line">    #need ngx_proxy module</span><br><span class="line">    proxy_connect;</span><br><span class="line">    proxy_connect_allow            443 80;</span><br><span class="line">    proxy_connect_connect_timeout  10s;</span><br><span class="line">    proxy_connect_read_timeout     10s;</span><br><span class="line">    proxy_connect_send_timeout     10s;</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">        proxy_pass $scheme://$http_host$request_uri;</span><br><span class="line">        proxy_connect_timeout 10;</span><br><span class="line">         proxy_send_timeout 10;</span><br><span class="line">         proxy_read_timeout 10;</span><br><span class="line">         proxy_redirect     off;</span><br><span class="line">         proxy_set_header Host $http_host;</span><br><span class="line">         proxy_buffers 256 4k;</span><br><span class="line">         proxy_next_upstream error timeout invalid_header http_502;</span><br><span class="line">         proxy_max_temp_file_size 0k;</span><br><span class="line">        proxy_ssl_server_name on;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="之前是通过yum安装升级"><a href="#之前是通过yum安装升级" class="headerlink" title="之前是通过yum安装升级"></a>之前是通过yum安装升级</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">yum -y install gcc-c++ pcre-devel pcre openssl-devel openssl</span><br><span class="line">yum -y install libxslt-devel libxml2 libxml2-dev gd-devel perl-devel perl-ExtUtils-Embed gperftools</span><br><span class="line"></span><br><span class="line">./configure --prefix=/usr/share/nginx --sbin-path=/usr/sbin/nginx --modules-path=/usr/lib64/nginx/modules --conf-path=/etc/nginx/nginx.conf --error-log-path=/var/log/nginx/error.log --http-log-path=/var/log/nginx/access.log --http-client-body-temp-path=/var/lib/nginx/tmp/client_body --http-proxy-temp-path=/var/lib/nginx/tmp/proxy --http-fastcgi-temp-path=/var/lib/nginx/tmp/fastcgi --http-uwsgi-temp-path=/var/lib/nginx/tmp/uwsgi --http-scgi-temp-path=/var/lib/nginx/tmp/scgi --pid-path=/run/nginx.pid --lock-path=/run/lock/subsys/nginx --user=nginx --group=nginx --with-compat --with-debug --with-file-aio --with-google_perftools_module --with-http_addition_module --with-http_auth_request_module --with-http_dav_module --with-http_degradation_module --with-http_flv_module --with-http_gunzip_module --with-http_gzip_static_module --with-http_image_filter_module=dynamic --with-http_mp4_module --with-http_perl_module=dynamic --with-http_random_index_module --with-http_realip_module --with-http_secure_link_module --with-http_slice_module --with-http_ssl_module --with-http_stub_status_module --with-http_sub_module --with-http_v2_module --with-http_xslt_module=dynamic --with-mail=dynamic --with-mail_ssl_module --with-pcre --with-pcre-jit --with-stream=dynamic --with-stream_ssl_module --with-stream_ssl_preread_module --with-threads --with-cc-opt=&#x27;-O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4&#x27; --add-module=/usr/local/ngx_devel_kit-0.3.1 --add-module=/usr/local/lua-nginx-module-0.10.22 --add-module=/usr/local/echo-nginx-module-0.62</span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.ropon.top/2017/11/22/%E8%AF%A6%E8%A7%A3nginx/" data-id="clc4klg8200brojobbtzq4jjt" data-title="详解nginx" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/11/28/%E8%AF%A6%E8%A7%A3mysql/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          详解MYSQL
        
      </div>
    </a>
  
  
    <a href="/2017/06/06/wdcpv2%E5%8D%87v3%E7%9A%84%E5%85%A8%E8%87%AA%E5%8A%A8%E8%84%9A%E6%9C%AC/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">wdcpv2升v3的全自动脚本</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Django/">Django</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Flask/">Flask</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Vue/">Vue</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Web%E5%89%8D%E7%AB%AF/">Web前端</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/cloud/">cloud</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/cloud/Docker/">Docker</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/cloud/Kubernetes/">Kubernetes</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/cloud/Kvm/">Kvm</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/cloud/OpenStack/">OpenStack</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/monitoring-tools/">monitoring-tools</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/monitoring-tools/Prometheus/">Prometheus</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/uncategorized/">uncategorized</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/web-jiqun/">web-jiqun</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web-jiqun/%E5%88%86%E5%B8%83%E5%BC%8F%E9%9B%86%E7%BE%A4/">分布式集群</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/web-jiqun/%E7%BD%91%E7%AB%99%E9%9B%86%E7%BE%A4/">网站集群</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/yunwei-tools/">yunwei-tools</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/yunwei-tools/Cmd/">Cmd</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/yunwei-tools/Go/">Go</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/yunwei-tools/Python/">Python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/yunwei-tools/Shell/">Shell</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/">经验分享</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%9B%86%E7%BE%A4%E6%9E%B6%E6%9E%84/">集群架构</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/auto/" rel="tag">auto</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/https/" rel="tag">https</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kvm/" rel="tag">kvm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/" rel="tag">nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssl/" rel="tag">ssl</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue/" rel="tag">vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wdcp/" rel="tag">wdcp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%91/" rel="tag">云</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%99%9A%E6%8B%9F%E5%8C%96/" rel="tag">虚拟化</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/auto/" style="font-size: 10px;">auto</a> <a href="/tags/https/" style="font-size: 10px;">https</a> <a href="/tags/kvm/" style="font-size: 10px;">kvm</a> <a href="/tags/nginx/" style="font-size: 10px;">nginx</a> <a href="/tags/ssl/" style="font-size: 10px;">ssl</a> <a href="/tags/vue/" style="font-size: 20px;">vue</a> <a href="/tags/wdcp/" style="font-size: 10px;">wdcp</a> <a href="/tags/%E4%BA%91/" style="font-size: 10px;">云</a> <a href="/tags/%E8%99%9A%E6%8B%9F%E5%8C%96/" style="font-size: 10px;">虚拟化</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/12/26/Go%E8%AF%AD%E8%A8%80%E4%B8%AD%E5%88%87%E7%89%87/">Go语言中切片</a>
          </li>
        
          <li>
            <a href="/2022/12/26/Go%E8%AF%AD%E8%A8%80%E4%B8%ADmap/">Go语言中map</a>
          </li>
        
          <li>
            <a href="/2022/12/26/Go%E8%AF%AD%E8%A8%80%E4%B8%AD%E5%87%BD%E6%95%B0/">Go语言中函数</a>
          </li>
        
          <li>
            <a href="/2022/12/26/Go%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%BB%93%E6%9E%84%E4%BD%93/">Go语言中结构体</a>
          </li>
        
          <li>
            <a href="/2022/12/26/Go%E8%AF%AD%E8%A8%80%E4%B8%AD%E5%8C%85/">Go语言中包</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 Ropon<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>